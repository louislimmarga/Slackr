(window.webpackJsonpfrontend=window.webpackJsonpfrontend||[]).push([[0],{164:function(e,a,t){e.exports=t(198)},170:function(e,a,t){},171:function(e,a,t){},198:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),c=t.n(l),o=t(266),i=t(265),s=t(73),u=(t(169),t(170),t(8)),m=t(29),d=t(50),p=(t(171),t(22)),f=t(7),g=t.n(f),E=t(251),h=t(252),b=t(207),v=t(46),y=t(237),O=t(110),_=t(19),w=t(250),j=t(113),k=t.n(j),S=r.a.createContext(),C=S.Provider,x=(S.Consumer,S),P="http://localhost:"+window.BACKEND_PORT,I={OWNER:1,ADMIN:2,MEMBER:3},D=50,N=10,R=t(235),T=t(107),W=t.n(T),M=t(239),F=t(201),A=t(86),L=t(238),q=t(240),z=t(202);function B(e,a){var t=Object(n.useRef)();Object(n.useEffect)((function(){t.current=e}),[e]),Object(n.useEffect)((function(){if(null!==a){var e=setInterval((function(){t.current()}),a);return function(){return clearInterval(e)}}}),[a])}var V=function(e,a){return parseInt(e,10)===parseInt(a,10)},U=[],J=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;void 0===U.find((function(a){return a.subscriber===e}))&&U.push({subscriber:e,interval:a})},K=function(e){return U=U.filter((function(a){return a.subscriber!==e}))},H=function(e){U.forEach((function(a){console.log(e,a.interval,e%a.interval==0,a.subscriber),e&&e%a.interval!=0||a.subscriber()}))},Y=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e&&"function"===typeof e;return r.a.useEffect((function(){if(n)return e(),J(e,t),function(){return K(e)}}),a),H},G=!1,$=function(){return G},Q=function(e){G=!!e},X=0,Z=function(){B((function(){G&&H(X++)}),2e3)},ee=["Live","Step"];var ae=function(){var e=r.a.useState(!1),a=Object(u.a)(e,2),t=a[0],n=a[1],l=r.a.useRef(null),c=r.a.useState($()?0:1),o=Object(u.a)(c,2),i=o[0],s=o[1];Z();var m=function(e){l.current&&l.current.contains(e.target)||n(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{variant:"contained",color:"primary",ref:l,"aria-label":"split button",style:{marginRight:15}},r.a.createElement(y.a,{onClick:function(){H()},disabled:0===i},ee[i]),r.a.createElement(y.a,{color:"primary",size:"small","aria-owns":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){n((function(e){return!e}))}},r.a.createElement(W.a,null))),r.a.createElement(L.a,{open:t,anchorEl:l.current,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,t=e.placement;return r.a.createElement(F.a,Object.assign({},a,{style:{transformOrigin:"bottom"===t?"center top":"center bottom"}}),r.a.createElement(A.a,{id:"menu-list-grow"},r.a.createElement(M.a,{onClickAway:m},r.a.createElement(z.a,null,ee.map((function(e,a){return r.a.createElement(q.a,{key:e,disabled:2===a,selected:a===i,onClick:function(e){return function(e,a){Q(0===a),s(a),n(!1)}(0,a)}},e)}))))))})))},te=t(109),ne=t(20),re=t(241),le=t(242),ce=t(243),oe=t(244),ie=t(245),se=t(269),ue=t(274),me=t(248),de=t(272),pe=t(249);var fe=function(e){var a=e.children,t=(Object(ne.a)(e,["children"]),r.a.useState(!1)),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState(I.MEMBER),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState([]),p=Object(u.a)(d,2),f=p[0],E=p[1],h=r.a.useState(""),b=Object(u.a)(h,2),v=b[0],O=b[1],_=r.a.useContext(x);function w(){c(!1)}return r.a.useEffect((function(){g.a.get("/users/all",{params:{token:_}}).then((function(e){var a=e.data;E(a.users)})).catch((function(e){}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){c(!0)}},a),r.a.createElement(re.a,{open:l,onClose:w,"aria-labelledby":"form-dialog-title"},r.a.createElement(le.a,{id:"form-dialog-title"},"Set User Permissions"),r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),e.target[0].value){var a=parseInt(e.target[0].value,10),t=parseInt(s,10);g.a.post("/admin/userpermission/change",{token:_,u_id:a,permission_id:t}).then((function(e){console.log(e)})).catch((function(e){}))}}},r.a.createElement(ce.a,null,r.a.createElement(oe.a,null,"Select a user below to set permissions for this user"),r.a.createElement(ie.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ie.a,{item:!0,xs:12},r.a.createElement(se.a,{style:{width:"100%"},id:"u_id",onChange:function(e){var a=parseInt(e.target.value,10);O(a)},value:v},f.map((function(e,a){return r.a.createElement(q.a,{key:e.u_id,value:e.u_id},e.name_first," ",e.name_last)})))),r.a.createElement(ie.a,{container:!0,item:!0,justify:"center",alignItems:"center"},r.a.createElement(ue.a,{"aria-label":"position",name:"position",value:s,onChange:function(e){var a=parseInt(e.target.value,10);m(a)},row:!0},r.a.createElement(me.a,{value:I.MEMBER,control:r.a.createElement(de.a,{color:"primary"}),label:"Member",labelPlacement:"bottom"}),r.a.createElement(me.a,{value:I.ADMIN,control:r.a.createElement(de.a,{color:"primary"}),label:"Admin",labelPlacement:"bottom"}),r.a.createElement(me.a,{value:I.OWNER,control:r.a.createElement(de.a,{color:"primary"}),label:"Owner",labelPlacement:"bottom"}))))),r.a.createElement(pe.a,null,r.a.createElement(y.a,{onClick:w,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:w,type:"submit",color:"primary"},"Set")))))};function ge(){var e=r.a.useState(!1),a=Object(u.a)(e,2),t=a[0],n=a[1],l=r.a.useRef(),c=function(){return n(!1)};return r.a.createElement("div",null,r.a.createElement(y.a,{ref:l,"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){return n(!0)},color:"inherit"},"Admin"),r.a.createElement(te.a,{id:"simple-menu",anchorEl:l.current,keepMounted:!0,open:t,onClose:c},r.a.createElement(fe,null,r.a.createElement(q.a,{onClick:c},"Set User Permissions")),r.a.createElement(q.a,{onClick:c},"Close")))}var Ee=t(142),he=t(14),be=t(111),ve=t.n(be),ye=Object(O.a)((function(e){return{search:Object(p.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(he.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(he.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto",marginRight:e.spacing(2)}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(p.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}}));var Oe=Object(d.g)((function(e){var a=ye(),t=r.a.useState(""),n=Object(u.a)(t,2),l=n[0],c=n[1];return r.a.createElement("form",{onSubmit:function(){return e.history.push("/search/".concat(l))}},r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement(ve.a,null)),r.a.createElement(Ee.a,{placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"},value:l,onChange:function(e){return c(e.target.value)}})))})),_e=Object(O.a)((function(e){return{appBar:Object(p.a)({marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},logoutButton:{float:"right"}}}));var we=function(e){var a=e.handleMenuToggle,t=void 0===a?function(){}:a,n=_e(),l=Object(_.a)(),c=Object(w.a)(l.breakpoints.up("sm")),o=r.a.useContext(x),i=r.a.useState(!1),s=Object(u.a)(i,2),p=s[0],f=s[1];return p?(g.a.post("/auth/logout",{token:o}).then((function(e){console.log(e)})).catch((function(e){})),localStorage.removeItem("token"),localStorage.removeItem("u_id"),r.a.createElement(d.a,{to:"/login"})):r.a.createElement(E.a,{position:"fixed",className:n.appBar},r.a.createElement(h.a,null,!c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:t,className:n.menuButton},r.a.createElement(k.a,null)),r.a.createElement(m.b,{to:"/",style:{color:"white",textDecoration:"none"}},r.a.createElement(v.a,{variant:"h5",noWrap:!0},"Slackr"))),r.a.createElement("div",{variant:"h6",className:n.title}),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Oe,null),r.a.createElement(ae,null),r.a.createElement(ge,null),r.a.createElement(y.a,{color:"inherit",className:n.logoutButton,onClick:function(){f(!0)}},"Logout"))))},je=t(271),ke=t(276),Se=t(253);function Ce(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function xe(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ce(t,!0).forEach((function(a){Object(p.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ce(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Pe=Object(O.a)((function(e){return{drawer:Object(p.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240},toolbar:xe({},e.mixins.toolbar,{display:"flex",alignItems:"center",paddingLeft:e.spacing(2)})}}));var Ie=function(e){var a=e.container,t=e.children,n=e.open,l=e.setOpen,c=Pe(),o=Object(_.a)();return r.a.createElement("nav",{className:c.drawer,"aria-label":"channels"},r.a.createElement(je.a,{smUp:!0,implementation:"css"},r.a.createElement(ke.a,{container:a,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:n,onClose:function(){return l(!1)},classes:{paper:c.drawerPaper},ModalProps:{keepMounted:!0}},r.a.createElement("div",{className:c.toolbar}),r.a.createElement(Se.a,null),t)),r.a.createElement(je.a,{xsDown:!0,implementation:"css"},r.a.createElement(ke.a,{classes:{paper:c.drawerPaper},variant:"permanent",open:!0},r.a.createElement("div",{className:c.toolbar},r.a.createElement(m.b,{to:"/",style:{color:"black",textDecoration:"none"}},r.a.createElement(v.a,{variant:"h5",noWrap:!0},"Slackr"))),t)))},De=Object(O.a)((function(e){var a;return{body:(a={},Object(p.a)(a,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),Object(p.a)(a,"padding",20),a),toolbar:e.mixins.toolbar}}));var Ne=function(e){var a=e.children,t=De();return r.a.createElement("div",{className:t.body},r.a.createElement("div",{className:t.toolbar}),a)};var Re=function(e){var a=e.menu,t=e.body,n=r.a.useState(!1),l=Object(u.a)(n,2),c=l[0],o=l[1];return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(we,{handleMenuToggle:function(){o((function(e){return!e}))}}),r.a.createElement(Ie,{open:c,setOpen:o},a),r.a.createElement(Ne,null,t))},Te=t(203),We=t(204),Me=t(254),Fe=t(255),Ae=t(114),Le=t.n(Ae);function qe(e){var a=localStorage.getItem("u_id");return null==a&&(a=-1),a}var ze=function(){var e=qe(r.a.useContext(x));return r.a.createElement(Te.a,null,r.a.createElement(We.a,{button:!0,key:"profile",component:m.b,to:"/profile/".concat(e)},r.a.createElement(Me.a,null,r.a.createElement(Le.a,null)),r.a.createElement(Fe.a,{primary:"Profile"})))},Be=t(257),Ve=t(82),Ue=t.n(Ve),Je=t(83),Ke=t.n(Je),He=t(115),Ye=t(270),Ge=t(256),$e=t(117),Qe=t.n($e),Xe=t(118),Ze=t.n(Xe),ea=t(116),aa=t.n(ea);var ta=function(e){var a=Object(He.a)({},e),t=r.a.useState(!1),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useContext(x);function i(){c(!1)}return r.a.createElement("div",null,r.a.createElement(b.a,{size:"small",onClick:function(){c(!0)}},r.a.createElement(aa.a,null)),r.a.createElement(re.a,{open:l,onClose:i,"aria-labelledby":"form-dialog-title"},r.a.createElement(le.a,{id:"form-dialog-title"},"Create Channel"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target[0].value,n=!e.target[1].checked;t&&g.a.post("/channels/create",{token:o,name:t,is_public:n}).then((function(e){console.log(e),a.callback()})).catch((function(e){}))}},r.a.createElement(ce.a,null,r.a.createElement(oe.a,null,"Complete the form below to create a new channel"),r.a.createElement(ie.a,{container:!0,spacing:2,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(ie.a,{item:!0,xs:12},r.a.createElement(Ye.a,{autoFocus:!0,margin:"dense",id:"channel_name",label:"Channel Name",name:"channel_name",fullWidth:!0})),r.a.createElement(ie.a,{container:!0,item:!0,justify:"center",alignItems:"center"},r.a.createElement(Qe.a,null),r.a.createElement(me.a,{control:r.a.createElement(Ge.a,{value:"secret",inputProps:{"aria-label":"Secret"}}),label:"Secret",labelPlacement:"top"}),r.a.createElement(Ze.a,null)))),r.a.createElement(pe.a,null,r.a.createElement(y.a,{onClick:i,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:i,type:"submit",color:"primary"},"Create")))))};var na=function(e){var a=e.channel_id,t=r.a.useState([]),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=Object(u.a)(o,2),s=i[0],d=i[1],p=r.a.useContext(x),f=function(){var e=g.a.get("/channels/list",{params:{token:p}}),a=g.a.get("/channels/listall",{params:{token:p}});g.a.all([e,a]).then(g.a.spread((function(e,a){var t=e.data.channels,n=a.data.channels.filter((function(e){return void 0===t.find((function(a){return a.channel_id===e.channel_id}))}));c(t),d(n)})))};return Y(f,[],2),r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,{subheader:r.a.createElement(Be.a,{style:{display:"flex"}},r.a.createElement("span",{style:{flex:1}},"My Channels"),r.a.createElement(ta,{callback:f}))},l.map((function(e,t){var n=e.channel_id,l=e.name;return r.a.createElement(We.a,{button:!0,key:n,component:m.b,to:"/channel/".concat(n)},r.a.createElement(Me.a,null,n==a?r.a.createElement(Ue.a,null):r.a.createElement(Ke.a,null)),r.a.createElement(Fe.a,{primary:l}))}))),r.a.createElement(Te.a,{subheader:r.a.createElement(Be.a,null,"Other Channels")},s.map((function(e,t){var n=e.channel_id,l=e.name;return r.a.createElement(We.a,{button:!0,key:n,component:m.b,to:"/channel/".concat(n)},r.a.createElement(Me.a,null,n==a?r.a.createElement(Ue.a,null):r.a.createElement(Ke.a,null)),r.a.createElement(Fe.a,{primary:l}))}))))};var ra=function(e){var a=e.channel_id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze,null),r.a.createElement(na,{channel_id:a}))};var la=function(e){return r.a.createElement(Re,{menu:r.a.createElement(ra,null),body:r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"h4"},"WELCOME"),r.a.createElement("div",{style:{paddingTop:15}},r.a.createElement(v.a,{variant:"body1"},"This is SengChat: agile messaging for Software Engineers \u2764\ufe0f")))})},ca=t(261),oa=t(128),ia=t.n(oa),sa=t(127),ua=t.n(sa);var ma=function(e){var a=e.channel_id,t=(Object(ne.a)(e,["channel_id"]),r.a.useState(!1)),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState(""),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState([]),p=Object(u.a)(d,2),f=p[0],E=p[1],h=r.a.useContext(x),b=Y();function v(){c(!1)}return r.a.useEffect((function(){g.a.get("/users/all",{params:{token:h}}).then((function(e){var a=e.data;E(a.users)})).catch((function(e){}))}),[]),r.a.createElement("div",null,r.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:function(){c(!0)}},"Invite Member"),r.a.createElement(re.a,{open:l,onClose:v,"aria-labelledby":"form-dialog-title"},r.a.createElement(le.a,{id:"form-dialog-title"},"Invite User"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=s;t&&g.a.post("/channel/invite",{token:h,u_id:t,channel_id:a}).then((function(e){console.log(e),b()})).catch((function(e){}))}},r.a.createElement(ce.a,null,r.a.createElement(oe.a,null,"Enter a user id below to invite a user to this channel"),r.a.createElement(se.a,{style:{width:"100%"},id:"u_id",onChange:function(e){var a=parseInt(e.target.value,10);m(a)},value:s},f.map((function(e,a){return r.a.createElement(q.a,{key:e.u_id,value:e.u_id},e.name_first," ",e.name_last)})))),r.a.createElement(pe.a,null,r.a.createElement(y.a,{onClick:v,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:v,type:"submit",color:"primary"},"Invite")))))},da=t(119),pa=t.n(da),fa=t(84),ga=t.n(fa),Ea=t(85),ha=t(258);var ba=Object(ha.a)((function(e){var a=e.message_id,t=e.is_pinned,n=void 0!==t&&t,l=e.theme,c=r.a.useState(n),o=Object(u.a)(c,2),i=o[0],s=o[1];r.a.useEffect((function(){return s(n)}),[n]);var m=r.a.useContext(x),d=r.a.useContext(Ja);return d=d||function(){},r.a.createElement(b.a,{onClick:function(){i?g.a.post("/message/unpin",{token:m,message_id:a}).then((function(){d()})):g.a.post("/message/pin",{token:m,message_id:a}).then((function(){d()}))},style:{margin:1},size:"small",edge:"end","aria-label":"delete"},i?r.a.createElement(ga.a,{path:Ea.a,size:"1em",color:l&&l.palette.action.active}):r.a.createElement(ga.a,{path:Ea.b,size:"1em",color:l&&l.palette.action.active}))})),va=t(259),ya=t(120),Oa=t.n(ya),_a=t(121),wa=t.n(_a);var ja=function(e){var a=e.message_id,t=e.reacts,n=void 0===t?[]:t,l=r.a.useContext(x),c=r.a.useContext(Ja);c=c||function(){};var o=0,i=!1,s=n.findIndex((function(e){return 1===e.react_id}));return-1!==s&&(o=n[s].u_ids.length,i=n[s].is_this_user_reacted),r.a.createElement(va.a,{anchorOrigin:{horizontal:"right",vertical:"bottom"},badgeContent:o,color:"secondary"},r.a.createElement(b.a,{onClick:function(){return function(e){e?g.a.post("/message/unreact",{token:l,message_id:a,react_id:1}).then((function(){c()})):g.a.post("/message/react",{token:l,message_id:a,react_id:1}).then((function(){c()}))}(i)},style:{margin:1},size:"small",edge:"end","aria-label":"delete"},i?r.a.createElement(Oa.a,{fontSize:"small"}):r.a.createElement(wa.a,{fontSize:"small"})))},ka=t(122),Sa=t.n(ka);var Ca=function(e){var a=e.message_id,t=e.disabled,n=void 0!==t&&t,l=r.a.useContext(x),c=r.a.useContext(Ja);return c=c||function(){},r.a.createElement(b.a,{disabled:n,onClick:function(){g.a.delete("/message/remove",{data:{token:l,message_id:a}}).then((function(){c()}))},style:{margin:1},size:"small",edge:"end","aria-label":"delete"},r.a.createElement(Sa.a,{fontSize:"small"}))},xa=t(72),Pa=t.n(xa);var Ia=function(e){var a=e.message_id,t=e.disabled,n=void 0!==t&&t,l=r.a.useContext(x),c=r.a.useContext(Ja);return c=c||function(){},r.a.createElement(b.a,{disabled:n,onClick:function(){var e=prompt();null!==e&&(""!==e?g.a.put("/message/edit",{token:l,message_id:a,message:e}).then((function(){c()})):g.a.delete("/message/remove",{data:{token:l,message_id:a}}).then((function(){c()})))},style:{margin:1},size:"small",edge:"end","aria-label":"delete"},r.a.createElement(Pa.a,{fontSize:"small"}))};var Da=function(e){var a,t=e.message_id,n=e.message,l=void 0===n?"":n,c=e.u_id,o=e.time_created,i=(e.is_unread,e.is_pinned),s=void 0!==i&&i,m=e.reacts,d=void 0===m?[]:m,p=r.a.useState(""),f=Object(u.a)(p,2),E=f[0],h=f[1],b=r.a.useState(),v=Object(u.a)(b,2),y=v[0],O=v[1],_=r.a.useContext(x);return V(c,qe()),r.a.useEffect((function(){h(),O(),g.a.get("/user/profile",{params:{token:_,u_id:c}}).then((function(e){var a=e.data,t=(a.email,a.name_first),n=void 0===t?"":t,r=a.name_last,l=void 0===r?"":r,c=(a.handle_str,a.profile_img_url),o=void 0===c?"":c;h("".concat(n," ").concat(l)),O("".concat(o))})).catch((function(e){console.error(e)}))}),[t,_,c]),r.a.createElement(We.a,{key:t,style:{width:"100%"}},l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Me.a,null,r.a.createElement("img",{className:"avatar-small",src:y})),r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(Fe.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,E),r.a.createElement("span",{style:{paddingLeft:10,fontSize:10}},pa()(1e3*o))),secondary:r.a.createElement("div",null,(a=l,a.split("\n")).map((function(e,a){return r.a.createElement("p",null,e)})))}),r.a.createElement("div",{style:{display:"flex",height:30,marginLeft:20}},r.a.createElement(ja,{message_id:t,reacts:d,u_id:c}),r.a.createElement(ba,{message_id:t,is_pinned:s}),r.a.createElement(Ia,{message_id:t}),r.a.createElement(Ca,{message_id:t})))))},Na=t(260),Ra=t(126),Ta=t.n(Ra),Wa=t(125),Ma=t.n(Wa),Fa=t(208),Aa=t(267);var La=function(e){var a=e.open,t=e.handleClose,n=e.onTimerChange,l=(Object(ne.a)(e,["open","handleClose","onTimerChange"]),r.a.useState(new Date)),c=Object(u.a)(l,2),o=c[0],i=c[1];return r.a.createElement("div",null,r.a.createElement(re.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(le.a,{id:"form-dialog-title"},"Send later"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(o)}},r.a.createElement(ce.a,null,r.a.createElement(Aa.a,{margin:"normal",id:"time-picker",label:"Time picker",value:o,onChange:function(e){return i(e.toDate())},KeyboardButtonProps:{"aria-label":"change time"}}),r.a.createElement(oe.a,null,"Enter a time to send")),r.a.createElement(pe.a,null,r.a.createElement(y.a,{onClick:t,color:"primary"},"Cancel"),r.a.createElement(y.a,{onClick:t,type:"submit",color:"primary"},"Set Time")))))},qa=Object(Fa.a)((function(e){return{flex:{display:"flex",flexDirection:"row",alignItems:"center"},input:{margin:e.spacing(1),marginRight:0},button:{margin:e.spacing(1),marginLeft:0,alignSelf:"stretch"},rightIcon:{marginLeft:e.spacing(1)},standupTimer:{margin:e.spacing(2)}}})),za=-1;var Ba=function(e){var a=e.channel_id,t=void 0===a?"":a,n=qa(),l=r.a.useState(""),c=Object(u.a)(l,2),o=c[0],i=c[1],s=r.a.useState(za),m=Object(u.a)(s,2),d=m[0],p=m[1],f=r.a.useState(!1),E=Object(u.a)(f,2),h=E[0],O=E[1],_=r.a.useContext(x),w=r.a.useContext(Ja);w=w||function(){};var j=d!==za,k=r.a.useState(),S=Object(u.a)(k,2),C=S[0],P=S[1],I=r.a.useState(),D=Object(u.a)(I,2),N=D[0],R=D[1],T=function(){var e=o.trim();if(e)if(i(""),C&&C>0)g.a.post("/standup/send",{token:_,channel_id:t,message:e}).then((function(e){var a=e.data;console.log(a),w()})).catch((function(e){}));else{if(j)return g.a.post("/message/sendlater",{token:_,channel_id:t,message:e,time_sent:d.getTime()/1e3}).then((function(e){var a=e.data;console.log(a)})).catch((function(e){})),void p(za);if(e.startsWith("/standup")){var a=e.match(/\/standup\s+([1-9][0-9]*)/);if(!a||a.length<2)alert("Usage: /standup <duration in seconds>");else{var n=parseInt(a[1],10);isNaN(n)||!Number.isInteger(n)?alert("Usage: /standup <duration in seconds>"):g.a.post("/standup/start",{token:_,channel_id:t,length:n}).then((function(e){var a=e.data.time_finish;R(a),alert("You've started a standup for ".concat(n," seconds"))})).catch((function(e){}))}}else g.a.post("/message/send",{token:_,channel_id:t,message:e}).then((function(e){var a=e.data;console.log(a),w()})).catch((function(e){}))}};return B((function(){N>Date.now()/1e3?P((function(){return Math.round(N-Math.round(Date.now()/1e3))})):P()}),1e3),Y((function(){C>0||g.a.get("/standup/active",{params:{token:_,channel_id:t}}).then((function(e){var a=e.data,t=a.is_active,n=void 0!==t&&t,r=a.time_finish;n&&r&&R(r)})).catch((function(e){}))}),[o]),r.a.createElement(r.a.Fragment,null,C>0&&r.a.createElement(v.a,{variant:"caption",className:n.standupTimer},"STANDUP ACTIVE: ".concat(C," seconds remaining")),r.a.createElement("div",{className:n.flex},r.a.createElement(Ye.a,{className:n.input,label:"Send a message \ud83d\udcac",multiline:!0,placeholder:"...",fullWidth:!0,margin:"normal",variant:"filled",onKeyDown:function(e){"Enter"!==e.key||e.getModifierState("Shift")||(e.preventDefault(),T())},value:o,onChange:function(e){return i(e.target.value)},InputProps:{endAdornment:r.a.createElement(Na.a,{position:"end"},r.a.createElement(b.a,{"aria-label":"toggle visibility",disabled:C>0,onClick:function(){return j?p(-1):O(!0)}},r.a.createElement(Ma.a,{color:j?"secondary":void 0})))}}),r.a.createElement(y.a,{className:n.button,variant:"contained",color:"primary",onClick:T},"Send",r.a.createElement(Ta.a,{className:n.rightIcon}))),r.a.createElement(La,{open:h,handleClose:function(){return O(!1)},onTimerChange:p}))};function Va(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Ua(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Va(t,!0).forEach((function(a){Object(p.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Va(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Ja=r.a.createContext(),Ka=Ja.Provider;Ja.Consumer;var Ha=function(e){var a=e.channel_id,t=void 0===a?"":a,n=r.a.useState([]),l=Object(u.a)(n,2),c=l[0],o=l[1],i=r.a.useState({isPaginating:!1,currentStart:0,currentEnd:0,sliceStart:0}),s=Object(u.a)(i,2),m=s[0],d=s[1],p=r.a.useContext(x),f=function(){return g.a.get("/channel/messages",{params:{token:p,channel_id:t,start:m.isPaginating?m.currentStart:0}}).then((function(e){var a=e.data,t=a.messages,n=(a.start,a.end);d((function(e){return Ua({},e,{currentEnd:n})})),o(t)})).catch((function(e){}))},E=(Y(f,[t,m.currentStart]),m.currentStart),h=m.currentEnd,b=m.sliceStart,v=m.isPaginating,O=-1==h&&b>=c.length-N,_="Messages [".concat(E+b+1,"...").concat(Math.min(E+c.length,E+b+N),"]");return 0==c.length&&(_="Messages (None)"),r.a.createElement(Ka,{value:f},r.a.createElement("hr",null),r.a.createElement(Te.a,{subheader:r.a.createElement(Be.a,null,_),style:{width:"100%"}},!O&&r.a.createElement(We.a,null,r.a.createElement(y.a,{variant:"outlined",color:"secondary",onClick:function(){return d((function(e){var a=e.sliceStart,t=e.currentStart,n=e.currentEnd,r=Object(ne.a)(e,["sliceStart","currentStart","currentEnd"]),l=c.length;return Ua({},r,a+N<l?{currentStart:t,currentEnd:n,sliceStart:a+N,isPaginating:!0}:{currentEnd:n,currentStart:n,sliceStart:0,isPaginating:!0})}))}},"Previous messages")),c.slice(b,b+N).reverse().map((function(e){return r.a.createElement(Da,Object.assign({key:e.message_id},e))})),v&&r.a.createElement(We.a,null,r.a.createElement(y.a,{variant:"outlined",color:"secondary",onClick:function(){return d((function(e){var a=e.sliceStart,t=e.currentStart,n=Object(ne.a)(e,["sliceStart","currentStart"]);return Ua({},n,a>=N?{currentStart:t,sliceStart:a-N,isPaginating:!(0==t&&a==N)}:t>=D&&t?{currentStart:t-D,sliceStart:D-N}:{currentStart:0,sliceStart:0,isPaginating:!1})}))}},"Next messages"))),r.a.createElement(Ba,{channel_id:t}))};var Ya=function(e){var a=e.channel_id,t=(Object(ne.a)(e,["channel_id"]),r.a.useState("")),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useState([]),p=Object(u.a)(d,2),f=p[0],E=p[1],h=r.a.useContext(x),O=qe();function _(){g.a.get("/channel/details",{params:{token:h,channel_id:a}}).then((function(e){var a=e.data,t=a.name,n=a.owner_members,r=a.all_members;m(r),E(n),c(t)})).catch((function(e){}))}function w(e){return void 0!==e.find((function(e){return V(e.u_id,O)}))}function j(e,a){return void 0!==e.find((function(e){return V(e.u_id,a)}))}Y(_,[a,h],2);var k=j(f,O),S=w(s);return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"h4"},l.toUpperCase()),r.a.createElement(Te.a,{subheader:r.a.createElement(Be.a,null,"Members")},s.map((function(e){var t=e.u_id,n=e.name_first,l=e.name_last,c=e.profile_img_url;return r.a.createElement(We.a,{key:t},r.a.createElement(Me.a,null,r.a.createElement("img",{className:"avatar-small",src:c})),r.a.createElement(Fe.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{container:!0,alignItems:"center",spacing:1},r.a.createElement(ie.a,{item:!0},r.a.createElement(ca.a,{href:"/profile/".concat(t)},"".concat(n," ").concat(l)),"".concat(j(f,t)?" \u2b50":" ")),k&&r.a.createElement(ie.a,{item:!0},j(f,t)?r.a.createElement(b.a,{size:"small",onClick:function(){return function(e){g.a.post("/channel/removeowner",{token:h,channel_id:a,u_id:e}).then((function(){_()})).catch((function(e){}))}(t)}},r.a.createElement(ua.a,null)):r.a.createElement(b.a,{size:"small",onClick:function(){return function(e){g.a.post("/channel/addowner",{token:h,channel_id:a,u_id:e}).then((function(){_()})).catch((function(e){}))}(t)}},r.a.createElement(ia.a,null)))))}))})),r.a.createElement(We.a,{key:"invite_member"},w(s)?r.a.createElement(ie.a,{container:!0,spacing:1},r.a.createElement(ie.a,{item:!0},r.a.createElement(ma,{channel_id:a})),r.a.createElement(ie.a,{item:!0},r.a.createElement(y.a,{variant:"outlined",onClick:function(){return function(e,a){g.a.post("/channel/leave",{token:a,channel_id:e}).then((function(){_()})).catch((function(e){}))}(a,h)}},"Leave Channel"))):r.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:function(){return function(e,a){g.a.post("/channel/join",{token:a,channel_id:e}).then((function(){_()})).catch((function(e){}))}(a,h)}},"Join Channel"))),S&&r.a.createElement(Ha,{channel_id:a}))};var Ga=function(e){var a=e.match.params.channel_id;return r.a.createElement(Re,{menu:r.a.createElement(ra,{channel_id:a}),body:r.a.createElement(Ya,{channel_id:a})})},$a=t(262),Qa=t(268),Xa=t(263),Za=t(129),et=t.n(Za),at=Object(O.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.primary.light}},card:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",borderRadius:e.shape.borderRadius}}}));var tt=function(e){var a=e.setAuth,t=Object(ne.a)(e,["setAuth"]),n=at();return r.a.createElement($a.a,{component:"main",maxWidth:"sm"},r.a.createElement(Qa.a,{boxShadow:3,className:n.card},r.a.createElement(Xa.a,null,r.a.createElement(et.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Login"),r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault();var n=e.target[0].value,r=e.target[2].value;n&&r&&g.a.post("/auth/login",{email:n,password:r}).then((function(e){console.log(e);var n=e.data;a(n.token,n.u_id),t.history.push("/")})).catch((function(e){}))}},r.a.createElement(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"text",autoFocus:!0}),r.a.createElement(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign In"),r.a.createElement(ie.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(ie.a,{item:!0},r.a.createElement("br",null),r.a.createElement(ca.a,{href:"/register",variant:"body1"},"Don't have an account? Register")),r.a.createElement(ie.a,{item:!0},r.a.createElement("br",null),r.a.createElement(ca.a,{href:"/forgot_password",variant:"body1"},"Forgot password?"))))))},nt=t(58),rt=t.n(nt);function lt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function ct(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?lt(t,!0).forEach((function(a){Object(p.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lt(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ot=Object(O.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.primary.light}},card:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",borderRadius:e.shape.borderRadius}}}));var it=function(e){var a=e.setAuth,t=Object(ne.a)(e,["setAuth"]),n=r.a.useState({name_first:"",name_last:"",email:"",password:""}),l=Object(u.a)(n,2),c=l[0],o=l[1],i=function(e){return function(a){o(ct({},c,Object(p.a)({},e,a.target.value)))}},s=ot();return r.a.createElement($a.a,{component:"main",maxWidth:"sm"},r.a.createElement(Qa.a,{boxShadow:3,className:s.card},r.a.createElement(Xa.a,null,r.a.createElement(rt.a,{color:"secondary"})),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),c.email&&c.password&&g.a.post("/auth/register",ct({},c)).then((function(e){console.log(e);var n=e.data;a(n.token,n.u_id),t.history.push("/")})).catch((function(e){}))}},r.a.createElement(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name_first",label:"First name",name:"name_first",type:"text",autoFocus:!0,value:c.name_first,onChange:i("name_first")}),r.a.createElement(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name_last",label:"Last name",name:"name_last",type:"text",value:c.name_last,onChange:i("name_last")}),r.a.createElement(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",value:c.email,onChange:i("email")}),r.a.createElement(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:c.password,onChange:i("password")}),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign Up"),r.a.createElement(ie.a,{container:!0},r.a.createElement(ie.a,{item:!0},r.a.createElement("br",null),r.a.createElement(ca.a,{href:"/login",variant:"body1"},"Already have an account? Login"))))))},st=Object(O.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.primary.light}},card:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",borderRadius:e.shape.borderRadius}}}));var ut=function(e){var a=st();return r.a.createElement($a.a,{component:"main",maxWidth:"sm"},r.a.createElement(Qa.a,{boxShadow:3,className:a.card},r.a.createElement(Xa.a,null,r.a.createElement(rt.a,{color:"secondary"})),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Forgot Password"),r.a.createElement("form",{noValidate:!0,onSubmit:function(a){a.preventDefault();var t=a.target[0].value;t&&g.a.post("/auth/passwordreset/request",{email:t}).then((function(a){console.log(a),e.history.push("/reset_password")})).catch((function(e){}))}},r.a.createElement(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",type:"email",autoFocus:!0}),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Send Recovery Email"),r.a.createElement(ie.a,{container:!0},r.a.createElement(ie.a,{item:!0},r.a.createElement("br",null),r.a.createElement(ca.a,{href:"/login",variant:"body1"},"Remember your password? Login"))))))},mt=Object(O.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.primary.light}},card:{backgroundColor:e.palette.background.paper,marginTop:e.spacing(8),padding:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",borderRadius:e.shape.borderRadius}}}));var dt=function(e){var a=mt();return r.a.createElement($a.a,{component:"main",maxWidth:"sm"},r.a.createElement(Qa.a,{boxShadow:3,className:a.card},r.a.createElement(Xa.a,null,r.a.createElement(rt.a,{color:"secondary"})),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Reset Password"),r.a.createElement("form",{noValidate:!0,onSubmit:function(a){a.preventDefault();var t=a.target[0].value,n=a.target[2].value;t&&n&&g.a.post("/auth/passwordreset/reset",{reset_code:t,new_password:n}).then((function(a){console.log(a),e.history.push("/login")})).catch((function(e){}))}},r.a.createElement(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"reset_code",label:"Reset code",name:"reset_code",type:"text",autoFocus:!0}),r.a.createElement(Ye.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"new_password",label:"New Password",name:"new_password",type:"password"}),r.a.createElement(y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Change Password"),r.a.createElement(ie.a,{container:!0},r.a.createElement(ie.a,{item:!0},r.a.createElement("br",null),r.a.createElement(ca.a,{href:"/login",variant:"body1"},"Remember your password? Login"))))))},pt=t(139),ft=t(131),gt=t.n(ft),Et=t(130),ht=t.n(Et);var bt=function(e){var a=e.editable,t=e.master,n=e.masterValue,l=e.slaves,c=e.slaveValues,o=e.onSave,i=(Object(ne.a)(e,["editable","master","masterValue","slaves","slaveValues","onSave"]),r.a.useState(!1)),s=Object(u.a)(i,2),m=s[0],d=s[1],p=r.a.useState(),f=Object(u.a)(p,2),g=f[0],E=f[1],h=r.a.useState(n),b=Object(u.a)(h,2),v=b[0],y=b[1],O=r.a.useState([]),_=Object(u.a)(O,2),w=_[0],j=_[1],k=r.a.useState(c),S=Object(u.a)(k,2),C=S[0],x=S[1];function P(){E(v),j(C),d(!m)}return r.a.useEffect((function(){y(n),x(c)}),[n,c]),r.a.createElement(ie.a,{container:!0,spacing:1,alignItems:"flex-end"},l&&l.map((function(e,a){return r.a.createElement(ie.a,{item:!0,key:a},e({value:C[a]||"",InputProps:{readOnly:!m},onChange:function(e){return function(e,a){var t=C.map((function(t,n){return n===a?e.target.value:t}));x(t)}(e,a)}}))})),r.a.createElement(ie.a,{item:!0},t({value:v||"",InputProps:{readOnly:!m},onChange:function(e){y(e.target.value)}})),a&&r.a.createElement(ie.a,{item:!0},a?m?r.a.createElement(r.a.Fragment,null,r.a.createElement(ht.a,{style:{cursor:"pointer"},onClick:function(){v&&(o&&(C?o.apply(void 0,[v].concat(Object(pt.a)(C))):o(v)),P())}}),r.a.createElement(gt.a,{style:{cursor:"pointer"},onClick:function(){y(g),x(w),P()}})):r.a.createElement(Pa.a,{style:{cursor:"pointer"},onClick:P}):null))};var vt=function(e){var a=e.profile,t=r.a.useState({}),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useContext(x),i=qe();r.a.useEffect((function(){g.a.get("/user/profile",{params:{token:o,u_id:a}}).then((function(e){var a=e.data;console.log(a),c(a)})).catch((function(e){console.error(e)}))}),[a,o]);var s=i.toString()===a;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"h4"},"Profile"),r.a.createElement(Te.a,{subheader:r.a.createElement(Be.a,null,"Profile Details")},r.a.createElement(We.a,{key:"name"},r.a.createElement(bt,{editable:s,masterValue:l.name_last,slaveValues:[l.name_first],master:function(e){return r.a.createElement(Ye.a,Object.assign({label:"Last Name"},e))},slaves:[function(e){return r.a.createElement(Ye.a,Object.assign({label:"First Name"},e))}],onSave:function(e,a){g.a.put("/user/profile/setname",{token:o,name_first:a,name_last:e}).then((function(){console.log("all good")})).catch((function(e){console.error(e)}))}})),r.a.createElement(We.a,{key:"email"},r.a.createElement(bt,{editable:s,masterValue:l.email,master:function(e){return r.a.createElement(Ye.a,Object.assign({label:"Email"},e))},onSave:function(e){g.a.put("/user/profile/setemail",{token:o,email:e}).then((function(){console.log("all good")})).catch((function(e){console.error(e)}))}})),r.a.createElement(We.a,{key:"handle"},r.a.createElement(bt,{editable:s,masterValue:l.handle_str,master:function(e){return r.a.createElement(Ye.a,Object.assign({label:"Handle"},e))},onSave:function(e){g.a.put("/user/profile/sethandle",{token:o,handle_str:e}).then((function(){console.log("all good")})).catch((function(e){console.error(e)}))}})),r.a.createElement(We.a,{key:"img_url"},r.a.createElement(bt,{editable:s,masterValue:l.img_url,master:function(e){return r.a.createElement(Ye.a,Object.assign({label:"img_url,x1,y1,x2,y2"},e))},onSave:function(e,a,t,n,r){var l=e.split(",");g.a.post("/user/profiles/uploadphoto",{token:o,img_url:l[0],x_start:l[1],y_start:l[2],x_end:l[3],y_end:l[4]}).then((function(){console.log("all good")})).catch((function(e){console.error(e)}))}})),r.a.createElement("br",null),r.a.createElement("div",null,"NOTE: The final field input is to set a profile image. Please enter the 5 components (image url, x_start, y_start, x_end, y_end) separated by commas")))};var yt=function(e){var a=e.match.params.profile;return r.a.createElement(Re,{menu:r.a.createElement(ra,null),body:r.a.createElement(vt,{profile:a})})},Ot=t(264);var _t=function(e){var a=e.query_str,t=(Object(ne.a)(e,["query_str"]),r.a.useState(!0)),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState([]),i=Object(u.a)(o,2),s=i[0],m=i[1],d=r.a.useContext(x);return qe(),r.a.useEffect((function(){""!==a&&g.a.get("/search",{params:{token:d,query_str:a}}).then((function(e){var a=e.data.messages;"undefined"!==typeof a&&Array.isArray(a)&&(m(a),c(!1))})).catch((function(e){c(!1)}))}),[d,a]),""===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"h4",style:{marginBottom:10}},"Search"),r.a.createElement(v.a,{variant:"h6"},"Enter a query in the search bar above \ud83d\udc40")):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"h4",style:{marginBottom:10}},"Search Results"),l?r.a.createElement(Ot.a,null):0==s.length?r.a.createElement(v.a,{variant:"h6"},"Your search did not return any results \ud83d\ude41"):r.a.createElement(Te.a,{subheader:r.a.createElement(Be.a,null,"Messages"),style:{width:"100%"}},s.slice().reverse().map((function(e){return r.a.createElement(Da,Object.assign({key:e.message_id},e))}))))};var wt=function(e){var a=e.match.params.query_str,t=void 0===a?"":a;return r.a.createElement(Re,{menu:r.a.createElement(ra,null),body:r.a.createElement(_t,{query_str:t})})};var jt=function(e){var a=r.a.useContext(x);return console.log(a),a?r.a.createElement(d.b,e):r.a.createElement(d.a,{to:"/login"})},kt=t(132),St=t.n(kt),Ct=t(133),xt=t.n(Ct);function Pt(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}g.a.defaults.baseURL=P,g.a.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded",g.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",g.a.defaults.headers.delete["Content-Type"]="application/x-www-form-urlencoded",g.a.interceptors.request.use((function(e){return"put"!==e.method&&"post"!==e.method&&"delete"!==e.method||(e.data=St.a.stringify(e.data)),e}));g.a.interceptors.response.use((function(e){return e}),(function(e){console.error(e);var a="An error occured. Try again later";return e.response&&(console.log(e.response.data),a=xt.a.get(e,"response.data.message")||"An error occured. Try again later"),s.b.error(a),Promise.reject(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Pt(t,!0).forEach((function(a){Object(p.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pt(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e))}));var It=function(){var e=r.a.useState(localStorage.getItem("token")),a=Object(u.a)(e,2),t=a[0],n=a[1];function l(e,a){localStorage.setItem("token",e),localStorage.setItem("u_id",a),n(e)}return r.a.createElement(C,{value:t},r.a.createElement(m.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(tt,Object.assign({},e,{setAuth:l}))}}),r.a.createElement(d.b,{exact:!0,path:"/register",render:function(e){return r.a.createElement(it,Object.assign({},e,{setAuth:l}))}}),r.a.createElement(d.b,{exact:!0,path:"/forgot_password",component:ut}),r.a.createElement(d.b,{exact:!0,path:"/reset_password",component:dt}),r.a.createElement(jt,{exact:!0,path:"/",component:la}),r.a.createElement(jt,{path:"/profile/:profile",component:yt}),r.a.createElement(jt,{path:"/channel/:channel_id",component:Ga}),r.a.createElement(jt,{path:"/search/:query_str",component:wt}),r.a.createElement(jt,{path:"/search",component:wt}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Dt=t(74),Nt=t(138),Rt=Object(Nt.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:Dt.a.A400},background:{default:"#fff"}}}),Tt=t(23),Wt=t(136);c.a.render(r.a.createElement(i.a,{theme:Rt},r.a.createElement(Tt.a,{utils:Wt.a},r.a.createElement(o.a,null),r.a.createElement(It,null),r.a.createElement(s.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[164,1,2]]]);
//# sourceMappingURL=main.0047a936.chunk.js.map